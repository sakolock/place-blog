{"ast":null,"code":"import _regeneratorRuntime from \"/Users/stevenkolock/Desktop/Side_Projects/place-blog/node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/stevenkolock/Desktop/Side_Projects/place-blog/node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _jsxFileName = \"/Users/stevenkolock/Desktop/Side_Projects/place-blog/src/routes/blog/Posts.jsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\nimport DefaultLayout from '../../components/Layout/Default';\nimport { LOADING_TEXT_BASE } from '../../constants';\nimport Card from '../../components/Card/Card';\nimport Text from '../../components/Typography/Text';\nexport default function Posts() {\n  var _this = this;\n  var _useState = useState(null),\n    posts = _useState[0],\n    setPosts = _useState[1];\n  useEffect(function () {\n    var getPosts = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var data, _yield$data$json, _posts, meta;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return fetch(\"\".concat(process.env.RAZZLE_API_PATH, \"/posts/\"));\n            case 3:\n              data = _context.sent;\n              _context.next = 6;\n              return data.json();\n            case 6:\n              _yield$data$json = _context.sent;\n              _posts = _yield$data$json.posts;\n              meta = _yield$data$json.meta;\n              setPosts(_posts);\n              _context.next = 15;\n              break;\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(\"Error fetch posts: \".concat(_context.t0.message));\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 12]]);\n      }));\n      return function getPosts() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    if (!(posts !== null && posts !== void 0 && posts.length)) {\n      getPosts();\n    }\n  }, [posts]);\n  return __jsx(DefaultLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, __jsx(Text, {\n    type: \"h1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, \"Blog Posts\"), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, posts ? posts === null || posts === void 0 ? void 0 : posts.map(function (post) {\n    return __jsx(\"li\", {\n      key: post.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }\n    }, __jsx(Link, {\n      to: \"/posts/\".concat(post.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, __jsx(Card, {\n      title: post.title,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 15\n      }\n    })));\n  }) : __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, LOADING_TEXT_BASE, \" posts!\"))));\n}\n;","map":{"version":3,"names":["useState","useEffect","Link","DefaultLayout","LOADING_TEXT_BASE","Card","Text","Posts","_this","_useState","posts","setPosts","getPosts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","_yield$data$json","_posts","meta","wrap","_callee$","_context","prev","next","fetch","concat","process","env","RAZZLE_API_PATH","sent","json","t0","console","error","message","stop","apply","arguments","length","__jsx","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","map","post","key","id","to","title"],"sources":["/Users/stevenkolock/Desktop/Side_Projects/place-blog/src/routes/blog/Posts.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\nimport DefaultLayout from '../../components/Layout/Default';\nimport { LOADING_TEXT_BASE } from '../../constants';\nimport Card from '../../components/Card/Card';\nimport Text from '../../components/Typography/Text';\n\nexport default function Posts() {\n  const [posts, setPosts] = useState(null);\n\n  useEffect(() => {\n    const getPosts = async () => {\n      try {\n        const data = await fetch(`${process.env.RAZZLE_API_PATH}/posts/`);\n        const {posts, meta} = await data.json();\n        \n        setPosts(posts);\n      } catch (e) {\n        console.error(`Error fetch posts: ${e.message}`)\n      }\n    }\n\n    if (!posts?.length) {\n      getPosts();\n    }\n\n  }, [posts])\n  \n  return (\n    <DefaultLayout>\n    <div>\n      <Text type=\"h1\">Blog Posts</Text>\n      <ul>\n        {posts ? posts?.map((post) => (\n          <li key={post.id}>\n            <Link to={`/posts/${post.id}`}>\n              <Card title={post.title} />\n            </Link>\n          </li>\n        )) : (\n          <p>{LOADING_TEXT_BASE} posts!</p>\n        )}\n      </ul>\n    </div>\n    </DefaultLayout>\n  );\n};\n"],"mappings":";;;;;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAOC,aAAa,MAAM,iCAAiC;AAC3D,SAASC,iBAAiB,QAAQ,iBAAiB;AACnD,OAAOC,IAAI,MAAM,4BAA4B;AAC7C,OAAOC,IAAI,MAAM,kCAAkC;AAEnD,eAAe,SAASC,KAAKA,CAAA,EAAG;EAAA,IAAAC,KAAA;EAC9B,IAAAC,SAAA,GAA0BT,QAAQ,CAAC,IAAI,CAAC;IAAjCU,KAAK,GAAAD,SAAA;IAAEE,QAAQ,GAAAF,SAAA;EAEtBR,SAAS,CAAC,YAAM;IACd,IAAMW,QAAQ;MAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA;QAAA,IAAAC,IAAA,EAAAC,gBAAA,EAAAC,MAAA,EAAAC,IAAA;QAAA,OAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEMC,KAAK,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,eAAe,YAAS,CAAC;YAAA;cAA3Db,IAAI,GAAAM,QAAA,CAAAQ,IAAA;cAAAR,QAAA,CAAAE,IAAA;cAAA,OACkBR,IAAI,CAACe,IAAI,CAAC,CAAC;YAAA;cAAAd,gBAAA,GAAAK,QAAA,CAAAQ,IAAA;cAAhCtB,MAAK,GAAAS,gBAAA,CAALT,KAAK;cAAEW,IAAI,GAAAF,gBAAA,CAAJE,IAAI;cAElBV,QAAQ,CAACD,MAAK,CAAC;cAACc,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAU,EAAA,GAAAV,QAAA;cAEhBW,OAAO,CAACC,KAAK,uBAAAR,MAAA,CAAuBJ,QAAA,CAAAU,EAAA,CAAEG,OAAO,CAAE,CAAC;YAAA;YAAA;cAAA,OAAAb,QAAA,CAAAc,IAAA;UAAA;QAAA,GAAArB,OAAA;MAAA,CAEnD;MAAA,gBATKL,QAAQA,CAAA;QAAA,OAAAC,IAAA,CAAA0B,KAAA,OAAAC,SAAA;MAAA;IAAA,GASb;IAED,IAAI,EAAC9B,KAAK,aAALA,KAAK,eAALA,KAAK,CAAE+B,MAAM,GAAE;MAClB7B,QAAQ,CAAC,CAAC;IACZ;EAEF,CAAC,EAAE,CAACF,KAAK,CAAC,CAAC;EAEX,OACEgC,KAAA,CAACvC,aAAa;IAAAwC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACdN,KAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACEN,KAAA,CAACpC,IAAI;IAAC2C,IAAI,EAAC,IAAI;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,YAAgB,CAAC,EACjCN,KAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACGtC,KAAK,GAAGA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEwC,GAAG,CAAC,UAACC,IAAI;IAAA,OACvBT,KAAA;MAAIU,GAAG,EAAED,IAAI,CAACE,EAAG;MAAAV,MAAA,EAAAnC,KAAA;MAAAoC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACfN,KAAA,CAACxC,IAAI;MAACoD,EAAE,YAAA1B,MAAA,CAAYuB,IAAI,CAACE,EAAE,CAAG;MAAAV,MAAA,EAAAnC,KAAA;MAAAoC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAC5BN,KAAA,CAACrC,IAAI;MAACkD,KAAK,EAAEJ,IAAI,CAACI,KAAM;MAAAZ,MAAA,EAAAnC,KAAA;MAAAoC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACtB,CACJ,CAAC;EAAA,CACN,CAAC,GACAN,KAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI5C,iBAAiB,EAAC,SAAU,CAEhC,CACD,CACU,CAAC;AAEpB;AAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}