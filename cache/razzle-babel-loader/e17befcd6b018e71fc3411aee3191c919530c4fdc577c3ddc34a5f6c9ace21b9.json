{"ast":null,"code":"import _objectSpread from \"/Users/stevenkolock/Desktop/Side_Projects/place-blog/node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"/Users/stevenkolock/Desktop/Side_Projects/place-blog/node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/stevenkolock/Desktop/Side_Projects/place-blog/node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _jsxFileName = \"/Users/stevenkolock/Desktop/Side_Projects/place-blog/src/components/Forms/Login.jsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useForm } from 'react-hook-form';\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { Input, INPUTS } from \"./Input\";\nimport Text from \"../Typography/Text\";\nimport FormError from './FormError';\n// {\"user\": {\"email\": \"abc@123.com\", \"password\": \"super-secret\", \"display_name\": \"Superman\"}}\n// Response\n// {\"id\": 1, \"display_name\": \"Superman\"}\nexport default function Login() {\n  var _location$state, _location$state$from;\n  var navigate = useNavigate();\n  var location = useLocation();\n  var _useForm = useForm(),\n    register = _useForm.register,\n    handleSubmit = _useForm.handleSubmit,\n    errors = _useForm.formState.errors;\n  var from = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : (_location$state$from = _location$state.from) === null || _location$state$from === void 0 ? void 0 : _location$state$from.pathname) || \"/\";\n  var handleFormSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {\n      var email, password;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            console.log(data);\n            email = data.email, password = data.password;\n            console.log(email, password);\n            console.log('data', data);\n            // const data = await registerUser({email, password, display_name}, () => {\n            //   navigate(from, { replace: true });\n            // });\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function handleFormSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return __jsx(React.Fragment, null, __jsx(Text, {\n    type: \"h1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, \"Login\"), __jsx(\"form\", {\n    onSubmit: handleSubmit(handleFormSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, __jsx(Input, {\n    label: \"Username\",\n    type: INPUTS.text,\n    register: _objectSpread({}, register('display_name', {\n      required: true\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }), errors.display_name && __jsx(FormError, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 33\n    }\n  }, \"Username is required.\"), __jsx(Input, {\n    label: \"Password\",\n    type: INPUTS.password,\n    register: _objectSpread({}, register('password', {\n      required: true\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }), errors.password && __jsx(FormError, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 29\n    }\n  }, \"Password is required.\"), __jsx(Input, {\n    type: \"submit\",\n    value: \"Login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"names":["useForm","useNavigate","useLocation","Input","INPUTS","Text","FormError","Login","_location$state","_location$state$from","navigate","location","_useForm","register","handleSubmit","errors","formState","from","state","pathname","handleFormSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","email","password","wrap","_callee$","_context","prev","next","console","log","stop","_x","apply","arguments","__jsx","React","Fragment","type","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","label","text","_objectSpread","required","display_name","value"],"sources":["/Users/stevenkolock/Desktop/Side_Projects/place-blog/src/components/Forms/Login.jsx"],"sourcesContent":["import { useForm } from 'react-hook-form';\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { Input, INPUTS } from \"./Input\";\nimport Text from \"../Typography/Text\";\nimport Button from \"../Common/Button\";\nimport FormError from './FormError';\n// {\"user\": {\"email\": \"abc@123.com\", \"password\": \"super-secret\", \"display_name\": \"Superman\"}}\n// Response\n// {\"id\": 1, \"display_name\": \"Superman\"}\nexport default function Login() {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm();\n  const from = location.state?.from?.pathname || \"/\";\n\n  const handleFormSubmit = async (data) => {\n    console.log(data)\n    let { email, password } = data\n    console.log(email, password)\n    console.log('data', data)\n    // const data = await registerUser({email, password, display_name}, () => {\n    //   navigate(from, { replace: true });\n    // });\n  }\n\n  return (\n    <>\n      <Text type=\"h1\">Login</Text>\n      <form onSubmit={handleSubmit(handleFormSubmit)}>\n      {/* <form action=\"/users/sign_in\" method=\"/post\"> */}\n      <Input label=\"Username\" type={INPUTS.text} register={{...register('display_name', { required: true })}} />\n        {errors.display_name && <FormError>Username is required.</FormError>}\n        <Input label=\"Password\" type={INPUTS.password} register={{...register('password', { required: true })}} />\n        {errors.password && <FormError>Password is required.</FormError>}\n        <Input type=\"submit\" value=\"Login\" />\n      </form>\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}