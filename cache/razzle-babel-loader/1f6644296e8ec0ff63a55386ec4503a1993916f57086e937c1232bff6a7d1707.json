{"ast":null,"code":"import _extends from \"/Users/stevenkolock/Desktop/Side_Projects/place-blog/node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/esm/extends.js\";\nimport _regeneratorRuntime from \"/Users/stevenkolock/Desktop/Side_Projects/place-blog/node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/stevenkolock/Desktop/Side_Projects/place-blog/node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _jsxFileName = \"/Users/stevenkolock/Desktop/Side_Projects/place-blog/src/components/Forms/SignUp.jsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useForm } from 'react-hook-form';\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { Input, INPUTS } from \"./Input\";\nimport FormError from './FormError';\nimport Text from \"../Typography/Text\";\nimport Button from \"../Common/Button\";\nimport { register as registerUser } from \"../../api/auth\";\n// {\"user\": {\"email\": \"abc@123.com\", \"password\": \"super-secret\", \"display_name\": \"Superman\"}}\n// Response\n// {\"id\": 1, \"display_name\": \"Superman\"}\n\nexport default function SignUp() {\n  var _location$state, _location$state$from;\n  var navigate = useNavigate();\n  var location = useLocation();\n  var _useForm = useForm(),\n    register = _useForm.register,\n    handleSubmit = _useForm.handleSubmit,\n    errors = _useForm.formState.errors;\n  var from = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : (_location$state$from = _location$state.from) === null || _location$state$from === void 0 ? void 0 : _location$state$from.pathname) || \"/\";\n  var handleFormSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {\n      var email, password, display_name, res;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            email = data.email, password = data.password, display_name = data.display_name;\n            console.log(email, password, display_name);\n            console.log('data', data);\n            _context.next = 5;\n            return registerUser({\n              email: email,\n              password: password,\n              display_name: display_name\n            }, function () {\n              navigate(from, {\n                replace: true\n              });\n            });\n          case 5:\n            res = _context.sent;\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function handleFormSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return __jsx(React.Fragment, null, __jsx(Text, {\n    type: \"h1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, \"Register\"), __jsx(\"form\", {\n    onSubmit: handleSubmit(function (data) {\n      return handleFormSubmit(data);\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, __jsx(Input, _extends({\n    label: \"Email\",\n    inputType: INPUTS.email\n  }, register('email', {\n    required: true\n  }), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  })), errors.email && __jsx(FormError, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 26\n    }\n  }, JSON.stringify(errors)), __jsx(Input, _extends({\n    label: \"Username\",\n    inputType: INPUTS.text\n  }, register('display_name', {\n    required: true\n  }), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  })), errors.display_name && __jsx(FormError, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 33\n    }\n  }, \"Username is required.\"), __jsx(Input, _extends({\n    label: \"Password\",\n    inputType: INPUTS.password\n  }, register('password', {\n    required: true\n  }), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  })), errors.password && __jsx(FormError, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 29\n    }\n  }, \"Password is required.\"), __jsx(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, \"Register\")));\n}","map":{"version":3,"names":["useForm","useNavigate","useLocation","Input","INPUTS","FormError","Text","Button","register","registerUser","SignUp","_location$state","_location$state$from","navigate","location","_useForm","handleSubmit","errors","formState","from","state","pathname","handleFormSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","email","password","display_name","res","wrap","_callee$","_context","prev","next","console","log","replace","sent","stop","_x","apply","arguments","__jsx","React","Fragment","type","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","_extends","label","inputType","required","JSON","stringify","text"],"sources":["/Users/stevenkolock/Desktop/Side_Projects/place-blog/src/components/Forms/SignUp.jsx"],"sourcesContent":["import { useForm } from 'react-hook-form';\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { Input, INPUTS } from \"./Input\";\nimport FormError from './FormError';\nimport Text from \"../Typography/Text\";\nimport Button from \"../Common/Button\";\nimport { register as registerUser } from \"../../api/auth\";\n// {\"user\": {\"email\": \"abc@123.com\", \"password\": \"super-secret\", \"display_name\": \"Superman\"}}\n// Response\n// {\"id\": 1, \"display_name\": \"Superman\"}\n\nexport default function SignUp() {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm();\n  const from = location.state?.from?.pathname || \"/\";\n\n  const handleFormSubmit = async (data) => {\n    let { email, password, display_name } = data\n    console.log(email, password, display_name)\n    console.log('data', data)\n    const res = await registerUser({email, password, display_name}, () => {\n      navigate(from, { replace: true });\n    });\n  }\n\n  return (\n    <>\n      <Text type=\"h1\">Register</Text>\n      <form onSubmit={handleSubmit((data) => handleFormSubmit(data))}>\n        <Input label=\"Email\" inputType={INPUTS.email} {...register('email', { required: true })} />\n        {errors.email && <FormError>{JSON.stringify(errors)}</FormError>}\n        <Input label=\"Username\" inputType={INPUTS.text} {...register('display_name', { required: true })} />\n        {errors.display_name && <FormError>Username is required.</FormError>}\n        <Input label=\"Password\" inputType={INPUTS.password} {...register('password', { required: true })} />\n        {errors.password && <FormError>Password is required.</FormError>}\n        <Button type=\"submit\">Register</Button>\n      </form>\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}